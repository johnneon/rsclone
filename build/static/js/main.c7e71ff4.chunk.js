(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{105:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),o=a(11),i=a.n(o),s=(a(94),a(41)),l=a(107),u=a(169);function d(){}var j=Object(r.createContext)({token:null,userId:null,fullName:null,login:d,logout:d,isAuthenticated:!1}),b=a(12),m=a(156),h=a(52),p=a(154),x=a(157),O=a(148),f=a(150),g=a(151),v=a(153),y=a(152),k=a(155),N=a(146),S=Object(N.a)({navColor:{color:"#3e3a3a",textDecoration:"none"},navAside:{width:"100%",paddingTop:"0",paddingBottom:"0"}}),w=function(){var e=S();return Object(n.jsxs)(O.a,{component:"nav","aria-label":"main mailbox folders",className:e.navAside,children:[Object(n.jsx)(s.b,{to:"/home",className:e.navColor,children:Object(n.jsxs)(f.a,{button:!0,children:[Object(n.jsx)(g.a,{children:Object(n.jsx)(y.a,{})}),Object(n.jsx)(v.a,{primary:"Home"})]},"home")}),Object(n.jsx)(p.a,{}),Object(n.jsx)(s.b,{to:"/boards",className:e.navColor,children:Object(n.jsxs)(f.a,{button:!0,children:[Object(n.jsx)(g.a,{children:Object(n.jsx)(k.a,{})}),Object(n.jsx)(v.a,{primary:"Boards"})]})})]})},C=a(109),B=Object(C.a)({auth__title:{textAlign:"center",margin:"20px 0"},flex:{display:"flex"},paddingTopBig:{paddingTop:"100px"},paddingTopMiddle:{paddingTop:"50px"},marginBottomSmall:{marginBottom:"20px"},marginBottomMiddle:{marginBottom:"50px"},navColor:{color:"#3e3a3a",textDecoration:"none"},contentContainer:{paddingLeft:"50px"}}),T=function(){var e=B(),t=Object(r.useContext)(j).fullName;return Object(n.jsxs)(m.a,{className:e.paddingTopBig,children:[Object(n.jsx)(h.a,{variant:"h1",component:"h1",className:e.marginBottomSmall,children:"Home page"}),Object(n.jsx)(p.a,{className:e.marginBottomMiddle}),Object(n.jsxs)(x.a,{container:!0,direction:"row",justify:"space-between",children:[Object(n.jsx)(x.a,{container:!0,item:!0,xs:2,children:Object(n.jsx)(w,{})}),Object(n.jsxs)(x.a,{item:!0,xs:10,className:e.contentContainer,children:[Object(n.jsx)(h.a,{variant:"h1",component:"h2",className:e.marginBottomSmall,children:"Welcome, ".concat(t," !")}),Object(n.jsx)(p.a,{})]})]})]})},I=a(34),_=a(77),z=a(28),W=a(20),A=a.n(W),D=a(33),P=a(15),E=a(162),F=a(163),q=a(166),R=a(167),H=a(42),L=a(158),M=a(159),$=a(160),J=a(175),U=a(161),G=a(108),Z=Object(N.a)({popup:{"& .MuiDialog-paperWidthSm":{width:"100%",maxWidth:"500px"}}}),V=function(e){var t=e.isOpen,a=e.close,c=e.createAction,o=Z(),i=Object(r.useState)({name:""}),s=Object(P.a)(i,2),l=s[0],u=s[1],d=Object(r.useState)({name:!0}),j=Object(P.a)(d,2),b=j[0],m=j[1];return Object(n.jsx)(L.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title",className:o.popup,children:Object(n.jsxs)("form",{type:"POST",children:[Object(n.jsx)(M.a,{id:"alert-dialog-slide-title",children:"Create a new board"}),Object(n.jsx)($.a,{children:Object(n.jsx)(J.a,{autoFocus:!0,margin:"dense",id:"name",name:"name",label:"Board name",type:"text",fullWidth:!0,helperText:b.name?" ":"Name is not valid.",error:!b.name,onChange:function(e){u(Object(z.a)(Object(z.a)({},l),{},Object(H.a)({},e.target.name,e.target.value)))}})}),Object(n.jsxs)(U.a,{children:[Object(n.jsx)(G.a,{onClick:a,color:"primary",children:"Cancel"}),Object(n.jsx)(G.a,{type:"submit",onClick:function(e){e.preventDefault(),function(){var e=!!l.name;return m({name:e}),e}()&&(c(l),a())},color:"primary",children:"Create"})]})]})})},K=function(){var e=Object(r.useState)(null),t=Object(P.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(P.a)(c,2),i=o[0],s=o[1];return{loading:i,request:Object(r.useCallback)(function(){var e=Object(D.a)(A.a.mark((function e(t){var a,r,c,o,i,l,u,d,j,b,m,h;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,r=t.method,c=void 0===r?"GET":r,o=t.body,i=void 0===o?null:o,l=t.headers,u=void 0===l?{}:l,s(!0),e.prev=2,d=JSON.stringify(i),(j=u)["Content-Type"]="application/json",b={method:c,headers:j},i&&(b.body=d),e.next=10,fetch(a,b);case 10:return m=e.sent,e.next=13,m.json();case 13:if(h=e.sent,m.ok){e.next=16;break}throw new Error(h.message||"Failed to get data.");case 16:return s(!1),e.abrupt("return",h);case 20:throw e.prev=20,e.t0=e.catch(2),s(!1),n(e.t0.message),e.t0;case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:a,clearErorr:Object(r.useCallback)((function(){return n(null)}),[])}},Q=a(165),X=a(164),Y=Object(N.a)({navColor:{color:"#3e3a3a",textDecoration:"none"},cardItem:{display:"block",width:"calc(100% / 3 - 14px)",marginRight:"20px",marginBottom:"20px",textDecoration:"none",padding:"0",border:"none",textAlign:"left","&:nth-child(3n)":{marginRight:"0"},"&:hover .MuiSvgIcon-root":{opacity:"1"}},media:{height:"200px",backgroundColor:"#f5f5f5"},closeButton:{position:"absolute",right:"5px",top:"5px",opacity:0,transition:"opacity 0.2s",zIndex:"10"}}),ee=function(e){var t=e.id,a=e.title,r=e.deleteBoard,c=Y();return Object(n.jsx)("button",{type:"button",onClick:function(e){e.target.closest("svg")||(window.location=e.target.getAttribute("data-href"))},className:c.cardItem,"data-href":"/card_".concat(t),children:Object(n.jsx)(E.a,{variant:"outlined",className:c.navAside,children:Object(n.jsxs)(F.a,{children:[Object(n.jsx)(X.a,{className:c.closeButton,onClick:function(){r(t)}}),Object(n.jsx)(Q.a,{className:c.media,title:!0}),Object(n.jsx)(q.a,{children:Object(n.jsx)(h.a,{className:c.title,color:"textSecondary",children:a})})]})})})},te=Object(N.a)({navColor:{color:"#3e3a3a",textDecoration:"none"},cardItem:{display:"block",width:"calc(100% / 3 - 14px)",marginRight:"20px",marginBottom:"20px",textDecoration:"none",border:"none",backgroundColor:"#0000000a","&:nth-child(3n)":{marginRight:"0"}},fullHeight:{height:"100%"},circleButton:{display:"block",margin:"0 auto",width:"50px",height:"50px"}}),ae=function(){var e=Object(I.b)().enqueueSnackbar,t=te(),a=Object(r.useContext)(j).token,c=K().request,o=Object(r.useState)(!1),i=Object(P.a)(o,2),s=i[0],l=i[1],u=Object(r.useState)([]),d=Object(P.a)(u,2),b=d[0],m=d[1],h=Object(r.useCallback)((function(t,a){return e(t,{variant:a})}),[e]),p=function(){var e=Object(D.a)(A.a.mark((function e(t,a){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"https://rsclone-back-end.herokuapp.com/api/board/",method:"GET",headers:{Authorization:"Bearer ".concat(t)}},e.next=3,a(n);case 3:r=e.sent,m(r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(D.a)(A.a.mark((function e(t){var n,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/board/",method:"POST",headers:{Authorization:"Bearer ".concat(a)},body:Object(z.a)({},t)},e.next=4,c(n);case 4:r=e.sent,m([].concat(Object(_.a)(b),[r])),h("Board created!","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h(e.t0.message,"success");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(D.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={url:"https://rsclone-back-end.herokuapp.com/api/board/".concat(t),method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}},e.next=4,c(n);case 4:p(a,c),h("Board deleted!","success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h(e.t0.message,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){p(a,c)}),[a,c]);var f=b.map((function(e){var t=e;return"object"===typeof t?Object(n.jsx)(ee,{id:t._id,title:t.name,deleteBoard:O},t._id):null}));return Object(n.jsxs)(n.Fragment,{children:[f,Object(n.jsx)(E.a,{onClick:function(){l(!0)},variant:"outlined",className:t.cardItem,children:Object(n.jsx)(F.a,{className:t.fullHeight,children:Object(n.jsx)(q.a,{children:Object(n.jsx)(R.a,{color:"action",className:t.circleButton})})})}),Object(n.jsx)(V,{isOpen:s,close:function(){l(!1)},createAction:x})]})},ne=function(){var e=B();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(m.a,{className:e.paddingTopBig,children:[Object(n.jsx)(h.a,{variant:"h1",component:"h1",className:e.marginBottomSmall,children:"Board page"}),Object(n.jsx)(p.a,{className:e.marginBottomMiddle}),Object(n.jsxs)(x.a,{container:!0,direction:"row",justify:"space-between",children:[Object(n.jsx)(x.a,{container:!0,item:!0,xs:2,children:Object(n.jsx)(w,{})}),Object(n.jsx)(x.a,{container:!0,item:!0,xs:10,className:e.contentContainer,children:Object(n.jsx)(I.a,{maxSnack:3,autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(n.jsx)(ae,{})})})]})]})})},re=function(e,t){return!!e.match(t)},ce="RS Tasktracker",oe=/^[\w!#$%&'*+/=?^_`{|}~\- \u2116"@]+$/,ie=/^[\w!#$%&'*+/=?^_`{|}~]*(?:\.?[\w!#$%&'*+/=?^_`{|}~-]+)@[^.@]+\.[^.@]{2,}$/,se=/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{6,}$/,le=function(e){var t=e.activeTab,a=e.action,c=Object(r.useState)({email:"",password:"",fullName:""}),o=Object(P.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)({fullName:!0,email:!0,password:!0}),u=Object(P.a)(l,2),d=u[0],j=u[1],b=function(e){s(Object(z.a)(Object(z.a)({},i),{},Object(H.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)(x.a,{container:!0,direction:"column",alignItems:"stretch",spacing:1,children:[!t&&Object(n.jsx)(x.a,{item:!0,children:Object(n.jsx)(J.a,{required:!0,fullWidth:!0,size:"small",variant:"outlined",label:"Name",type:"text",name:"fullName",helperText:d.fullName?" ":"Name is not valid.",error:!d.fullName,onChange:b})}),Object(n.jsx)(x.a,{item:!0,children:Object(n.jsx)(J.a,{required:!0,fullWidth:!0,size:"small",variant:"outlined",label:"Email",type:"email",name:"email",helperText:d.email?" ":"Email is not valid.",error:!d.email,onChange:b})}),Object(n.jsx)(x.a,{item:!0,children:Object(n.jsx)(J.a,{required:!0,fullWidth:!0,size:"small",variant:"outlined",label:"Password",type:"password",name:"password",helperText:d.password?" ":"Password is not valid.",error:!d.password,onChange:b})}),Object(n.jsx)(x.a,{item:!0,xs:6,sm:5,children:Object(n.jsx)(G.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){(function(){var e=i.fullName,a=i.email,n=i.password,r=ie,c=se,o=!!t||re(e,oe),s=re(a,r),l=re(n,c);return j({fullName:o,email:s,password:l}),l&&s&&o})()&&a(i)},children:t?"Login":"Sign Up"})})]})};le.defaultProps={activeTab:0,action:function(){}};var ue=le,de=a(176),je=a(168),be=Object(N.a)((function(){return{auth__tabs:{maxWidth:"50%",minWidth:"40%"}}})),me=function(e){var t=e.activeTab,a=e.changeActiveTabHandler,r=be();return Object(n.jsxs)(de.a,{variant:"fullWidth",value:t,indicatorColor:"primary",textColor:"inherit",onChange:a,scrollButtons:"off",children:[Object(n.jsx)(je.a,{label:"Sing Up",className:r.auth__tabs}),Object(n.jsx)(je.a,{label:"Login",className:r.auth__tabs})]})};me.defaultProps={activeTab:0,changeActiveTabHandler:function(){}};var he=me,pe=Object(N.a)((function(e){return{auth__form:{marginBottom:"50px",padding:"0 20px 20px",maxWidth:"380px",backgroundColor:e.palette.background.main,borderRadius:"5px",boxShadow:"\n      0 0 10px ".concat(e.palette.shadow.main,", \n      0 0 10px ").concat(e.palette.shadow.main,", \n      0 0 10px ").concat(e.palette.shadow.main,"\n    ")},backdrop:{zIndex:e.zIndex.snackbar+1,color:"#fff"}}})),xe=function(){var e=Object(r.useState)(0),t=Object(P.a)(e,2),a=t[0],c=t[1],o=K(),i=o.loading,s=o.request,d=Object(I.b)().enqueueSnackbar,b=pe();console.log(d);var m=Object(r.useContext)(j),h=Object(r.useCallback)((function(e,t){return d(e,{variant:t})}),[d]),p=function(){var e=Object(D.a)(A.a.mark((function e(t){var a,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"https://rsclone-back-end.herokuapp.com/api/auth/register",method:"POST",body:Object(z.a)({},t)},e.next=4,s(a);case 4:n=e.sent,h(n.message,"success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h(e.t0.message,"error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(D.a)(A.a.mark((function e(t){var a,n,r,c,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"https://rsclone-back-end.herokuapp.com/api/auth/login",method:"POST",body:Object(z.a)({},t)},e.next=4,s(a);case 4:n=e.sent,r=n.token,c=n.userId,o=n.fullName,m.login(r,c,o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),h(e.t0.message,"error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(x.a,{container:!0,className:b.auth__form,direction:"column",alignItems:"stretch",spacing:3,children:[Object(n.jsx)(x.a,{item:!0,children:Object(n.jsx)(he,{activeTab:a,changeActiveTabHandler:function(e,t){c(t)}})}),Object(n.jsx)(x.a,{item:!0,children:Object(n.jsx)(ue,{activeTab:a,action:a?O:p})})]}),Object(n.jsx)(l.a,{className:b.backdrop,open:i,children:Object(n.jsx)(u.a,{color:"primary"})})]})},Oe=a(68),fe=Object(N.a)((function(){return{auth__requirements:{padding:"20px",maxWidth:"800px","& h2":{marginBottom:"15px"},"& h3":{marginBottom:"5px"},"& p":{marginBottom:"10px",textAlign:"justify"}}}})),ge=function(){var e=fe();return Object(n.jsxs)(Oe.a,{elevation:3,className:e.auth__requirements,children:[Object(n.jsx)(h.a,{variant:"h2",children:"Validation requirements"}),Object(n.jsx)(h.a,{variant:"h3",children:"Login"}),Object(n.jsx)(h.a,{variant:"body2",children:"Only latin alphabet, numbers and special symbols."}),Object(n.jsx)(h.a,{variant:"h3",children:"Email"}),Object(n.jsx)(h.a,{variant:"body2",children:'It should contain only one " @" symbol, at least one latin letter number before " @", only one "." after " @" at least one latin letter or number after " @" and before ".",  at least two symbols after ".".'}),Object(n.jsx)(h.a,{variant:"h3",children:"Password"}),Object(n.jsx)(h.a,{variant:"body2",children:"It should contain at least 6 symbols, one uppercase latin symbol, 1 lowercase latin symbol, 1 number."})]})},ve=Object(N.a)((function(e){return{auth:{padding:"20px 30px",minHeight:"100vh",backgroundColor:e.palette.background.main,display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",flexDirection:"column"},auth__title:{marginBottom:"60px",textAlign:"center"}}})),ye=function(){var e=ve();return Object(n.jsxs)(m.a,{className:e.auth,maxWidth:!1,children:[Object(n.jsx)(h.a,{className:e.auth__title,variant:"h1",children:"Welcome to ".concat(ce)}),Object(n.jsx)(I.a,{maxSnack:3,autoHideDuration:2e3,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(n.jsx)(xe,{})}),Object(n.jsx)(ge,{})]})},ke=function(e){return e?Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{path:"/home",exact:!0,children:Object(n.jsx)(T,{})}),Object(n.jsx)(b.b,{path:"/boards",exact:!0,children:Object(n.jsx)(ne,{})}),Object(n.jsx)(b.a,{to:"/home"})]}):Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{path:"/",exact:!0,children:Object(n.jsx)(ye,{})}),Object(n.jsx)(b.a,{to:"/"})]})},Ne=a(170),Se=a(171),we=Object(Ne.a)({root:{fontColor:"#f10c0c"},container:{paddingTop:"50px"},palette:{primary:{main:"#00c853",contrastText:"#fff"},secondary:{main:"#ffd600",contrastText:"#8c5203"},background:{main:"#fff",column:"#fafafa"},shadow:{main:"#9e9e9e"},text:{main:"#3e3a3a"},buttons:{transparentWhite:"#ffffff3d"}},typography:{htmlFontSize:16,h1:{fontSize:"1.5rem",fontWeight:700},h2:{fontSize:"1.25rem",fontWeight:700},h3:{fontSize:"1.13rem",fontWeight:700},h4:{fontSize:"1rem",fontWeight:700},h5:{fontSize:"1rem",fontWeight:700},h6:{fontSize:"1rem",fontWeight:700},body1:{fontSize:"0.875rem"},body2:{fontSize:"1rem"}}});function Ce(e){var t=e.children;return Object(n.jsx)(Se.a,{theme:we,children:t})}Ce.defaultProps={children:{}};var Be="userData",Te=function(){var e=Object(r.useState)(null),t=Object(P.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(P.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(null),u=Object(P.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(null),m=Object(P.a)(b,2),h=m[0],p=m[1],x=Object(r.useCallback)((function(e,t,a){n(e),j(t),p(a),localStorage.setItem(Be,JSON.stringify({token:e,userId:t,fullName:a}))}),[]);return Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem(Be));(null===e||void 0===e?void 0:e.token)&&(null===e||void 0===e?void 0:e.userId)&&(null===e||void 0===e?void 0:e.fullName)&&x(e.token,e.userId,e.fullName),s(!0)}),[x,s]),{login:x,logout:function(){n(null),j(null),localStorage.removeItem(Be)},token:a,fullName:h,userId:d,ready:i}},Ie=a(177),_e=a(173),ze=a(174),We=a(172),Ae=Object(N.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{marginRight:"auto",color:"#ffffff",textDecoration:"none"},avatar:{marginRight:"10px",backgroundColor:"#ffd600"}}}));var De=function(){var e=Ae(),t=Te().logout,a=Object(r.useContext)(j),c=a.isAuthenticated,o=a.fullName,i=null;o&&(i=o.split(" ").map((function(e){return e[0].toUpperCase()})).join(""));var s=function(){t(),window.location.reload()},l=function(){return c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ie.a,{color:"primary",className:e.avatar,children:i}),Object(n.jsxs)(We.a,{color:"primary",children:[Object(n.jsx)(G.a,{color:"inherit",children:"Settings"}),Object(n.jsx)(G.a,{onClick:s,color:"inherit",children:"logout"})]})]}):Object(n.jsxs)(We.a,{color:"primary",children:[Object(n.jsx)(G.a,{color:"inherit",children:"Sign UP"}),Object(n.jsx)(G.a,{color:"inherit",children:"Sign IN"})]})};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(_e.a,{position:"static",children:Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(h.a,{variant:"h1",component:"a",href:"/home",className:e.title,children:"RS Tasktracker"}),Object(n.jsx)(l,{})]})})})};var Pe=function(){var e=Te(),t=e.token,a=e.login,r=e.logout,c=e.userId,o=e.ready,i=e.fullName,d=!!t,b=ke(d);return o?Object(n.jsx)(Ce,{children:Object(n.jsx)(j.Provider,{value:{token:t,login:a,logout:r,userId:c,fullName:i,isAuthenticated:d},children:Object(n.jsx)(s.a,{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(De,{onReady:o}),b]})})})}):Object(n.jsx)(l.a,{variant:"outlined",open:o,children:Object(n.jsx)(u.a,{color:"inherit"})})},Ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,178)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Pe,{})}),document.getElementById("root")),Ee()},94:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.c7e71ff4.chunk.js.map